<script src="{{ asset("beautify.js") }}" type="text/javascript"></script>
<script src="{{ asset("js/ace.js") }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ asset("js/jquery.ui.position.js") }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ asset("js/jquery.contextMenu.js") }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ asset("js/oauth.js") }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ asset("js/jquery-data/jquery.base64.min.js") }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ asset("js/FileSaver.min.js") }}" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" class="">
    $(function(){
        $.contextMenu({
            selector: '.context-menu-one',
            callback: function(key, options) {
                //alert(JSON.stringify(options, null, 4));
                var m = "clicked: " + key;
                //alert($(this).attr("fpath") + " and pid = " + {{ project_id  }});
                //window.console && console.log(m) || alert(m);
                if(key=="Add_New_Directory"){
                    //$("#WiselibFolderCreationModal").val($(this).data('id'))
                    $('#WiselibFolderCreationModal').data('fpath', $(this).attr("fpath"));
                    $('#WiselibFolderCreationModal').data('id', {{ project_id }});
                    $("#WiselibFolderCreationModal").modal('show');
                    //$.post("{{ path('AceUtilitiesBundle_createWiselibFile') }}", {fpath: $(this).attr("fpath"), project_id: {{ project_id }}, filename: "test.cpp" }, function (data) {

                        //alert("Data received: " +JSON.stringify(data, null, 4));
                        //handleResponse(data);
                    //});
                }else{
                    $('#WiselibFileCreationModal').data('fpath', $(this).attr("fpath"));
                    $('#WiselibFileCreationModal').data('id', {{ project_id }});
                    $("#WiselibFileCreationModal").modal('show');
                }

            },
            items: {
                "Add_New_File": {name: "Add New File", icon: "edit"},
                "Add_New_Directory": {name: "Add New Directory", icon: "edit"}
            }
        });

        $('.context-menu-one').on('click', function(e){
            console.log('clicked', this);
        })
    });

    OAuth.initialize('pXB0AkTIviqG1Xer8_qPtgbs16E');
</script>
